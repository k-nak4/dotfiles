#!/bin/sh

# ディレクトリを作成
mkdir -p ${HOME}/local/opt
mkdir -p ${HOME}/local/bin
mkdir -p ${HOME}/local/build

# ソースを取得
git clone https://github.com/vim/vim.git ${HOME}/local/build/vim

# 必要なものをインストール
sudo apt-get install git cpp gcc autoconf automake make lua5.2 luajit liblua5.2-0 liblua5.2-dev libperl5.18 libperl-dev python-dev python3-dev ruby ruby-dev tcl tcl-dev

cd ${HOME}/local/build/vim
./configure --with-features=huge \
              --disable-darwin \
              --disable-selinux \
              --enable-fail-if-missing \
              --enable-luainterp \
              --enable-perlinterp=dynamic \
              --enable-pythoninterp \
              --enable-python3interp \
              --enable-tclinterp \
              --enable-rubyinterp \
              --enable-cscope \
              --enable-multibyte \
              --enable-xim \
              --enable-fontset \
              --with-compiledby=xxxkurosukexxx \
              --enable-gui=no \
              --prefix=/usr/local
make
sudo make install
